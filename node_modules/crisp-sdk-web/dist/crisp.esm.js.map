{"version":3,"file":"crisp.esm.js","sources":["../src/message.ts","../src/user.ts","../src/trigger.ts","../src/session.ts","../src/chat.ts","../src/index.ts"],"sourcesContent":["import { CrispClass as Crisp } from \"./index\";\n\nexport type FileMessage = {\n  url: string,\n  type: string,\n  name: string\n};\n\nexport type AnimationMessage = {\n  url: string,\n  type: string\n};\n\nexport type AudioMessage = {\n  url: string,\n  type: string,\n  duration: number\n};\n\nexport type PickerMessage = {\n  id: string,\n  text: string,\n  choices: PickerMessageChoices[]\n};\n\nexport type PickerMessageChoices = {\n  value: string,\n  label: string,\n  selected: boolean\n};\n\nexport type FieldMessage = {\n  id: string,\n  text: string,\n  explain: string\n};\n\nexport type CarouselMessageTargets = {\n  title: string,\n  description?: string,\n  image?: string\n  actions: CarouselMessageTargetsActions[]\n};\n\nexport type CarouselMessageTargetsActions = {\n  label: string,\n  url: string\n};\n\nexport type CarouselMessage = {\n  text: string,\n  targets: CarouselMessageTargets[]\n};\n\nexport default class CrispMessage {\n  private parent: Crisp;\n\n  constructor(crisp: Crisp) {\n    this.parent = crisp;\n  }\n\n  send(type: string, content: string | FileMessage | AnimationMessage | AudioMessage) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"do\", \"message:send\", [type, content]]);\n  }\n\n  sendText(content: string) {\n    this.send(\"text\", content);\n  }\n\n  sendFile(content: FileMessage) {\n    this.send(\"file\", content);\n  }\n\n  sendAnimation(content: AnimationMessage) {\n    this.send(\"animation\", content);\n  }\n\n  sendAudio(content: AudioMessage) {\n    this.send(\"audio\", content);\n  }\n\n  show(type: string, content: string | FileMessage | AnimationMessage | AudioMessage | FieldMessage | PickerMessage | CarouselMessage) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"do\", \"message:show\", [type, content]]);\n  }\n\n  showText(content: string) {\n    this.show(\"text\", content);\n  }\n\n  showFile(content: FileMessage) {\n    this.show(\"file\", content);\n  }\n\n  showAnimation(content: AnimationMessage) {\n    this.show(\"animation\", content);\n  }\n\n  showAudio(content: AudioMessage) {\n    this.show(\"audio\", content);\n  }\n\n  showPicker(content: PickerMessage) {\n    this.show(\"picker\", content);\n  }\n\n  showField(content: FieldMessage) {\n    this.show(\"field\", content);\n  }\n\n  showCarousel(content: CarouselMessage) {\n    this.show(\"carousel\", content);\n  }\n\n  markAsRead() {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"do\", \"message:read\"]);\n  }\n\n  onMessageSent(callback: Function) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"off\", \"message:sent\"]);\n    window.$crisp.push([\"on\", \"message:sent\", callback]);\n  }\n\n  onMessageReceived(callback: Function) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"off\", \"message:received\"]);\n    window.$crisp.push([\"on\", \"message:received\", callback]);\n  }\n\n  onMessageComposeSent(callback: Function) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"off\", \"message:compose:sent\"]);\n    window.$crisp.push([\"on\", \"message:compose:sent\", callback]);\n  }\n\n  onMessageComposeReceive(callback: Function) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"off\", \"message:compose:received\"]);\n    window.$crisp.push([\"on\", \"message:compose:received\", callback]);\n  }\n}\n","import { CrispClass as Crisp } from \"./index\";\n\nexport type CompanyData = {\n  url?: string,\n  description?: string,\n  employment?: CompanyDataEmployment | string[],\n  geolocation?: CompanyDataGeolocation | string[]\n};\n\nexport type CompanyDataEmployment = {\n  title: string,\n  role?: string\n};\n\nexport type CompanyDataGeolocation = {\n  country: string,\n  city?: string\n};\n\nexport default class CrispUser {\n  private parent: Crisp;\n\n  constructor(crisp: Crisp) {\n    this.parent = crisp;\n  }\n\n  setNickname(nickname: string) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"set\", \"user:nickname\", [nickname]]);\n  }\n\n  setEmail(email: string, hmac?: string) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"set\", \"user:email\", [email, hmac]]);\n  }\n\n  setPhone(phone: string) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"set\", \"user:phone\", [phone]]);\n  }\n\n  setAvatar(avatar: string) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"set\", \"user:avatar\", [avatar]]);\n  }\n\n  setCompany(name: string, data: CompanyData) {\n    const _payload: CompanyData = {};\n\n    if (data && data.url) {\n      _payload.url = data.url;\n    }\n\n    if (data && data.description) {\n      _payload.description = data.description;\n    }\n\n    if (data && data.employment) {\n      _payload.employment = [\n        (data.employment as CompanyDataEmployment).title\n      ];\n\n      if ((data.employment as CompanyDataEmployment).role) {\n        _payload.employment.push((data.employment as CompanyDataEmployment).role!);\n      }\n    }\n\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"set\", \"user:company\", [name, _payload]]);\n  }\n\n  getEmail(): string | null {\n    if (!this.parent.isCrispInjected()) {\n      return null;\n    }\n\n    return window.$crisp.get(\"user:email\");\n  }\n\n  getPhone(): string | null {\n    if (!this.parent.isCrispInjected()) {\n      return null;\n    }\n\n    return window.$crisp.get(\"user:phone\");\n  }\n\n  getNickname(): string | null {\n    if (!this.parent.isCrispInjected()) {\n      return null;\n    }\n\n    return window.$crisp.get(\"user:nickname\");\n  }\n\n  getAvatar(): string | null {\n    if (!this.parent.isCrispInjected()) {\n      return null;\n    }\n\n    return window.$crisp.get(\"user:avatar\");\n  }\n\n  getCompany(): object | null {\n    if (!this.parent.isCrispInjected()) {\n      return null;\n    }\n\n    return window.$crisp.get(\"user:company\");\n  }\n\n  onEmailChanged(callback: Function) {\n    if (this.parent.isCrispInjected()) {\n      window.$crisp.push([\"off\", \"user:email:changed\"]);\n      window.$crisp.push([\"on\", \"user:email:changed\", callback]);\n    }\n  }\n\n  onPhoneChanged(callback: Function) {\n    if (this.parent.isCrispInjected()) {\n      window.$crisp.push([\"off\", \"user:phone:changed\"]);\n      window.$crisp.push([\"on\", \"user:phone:changed\", callback]);\n    }\n  }\n\n  onNicknameChanged(callback: Function) {\n    if (this.parent.isCrispInjected()) {\n      window.$crisp.push([\"off\", \"user:nickname:changed\"]);\n      window.$crisp.push([\"on\", \"user:nickname:changed\", callback]);\n    }\n  }\n\n  onAvatarChanged(callback: Function) {\n    if (this.parent.isCrispInjected()) {\n      window.$crisp.push([\"off\", \"user:avatar:changed\"]);\n      window.$crisp.push([\"on\", \"user:avatar:changed\", callback]);\n    }\n  }\n}\n","import { CrispClass as Crisp } from \"./index\";\n\nexport default class CrispTrigger {\n  private parent: Crisp;\n\n  constructor(crisp: Crisp) {\n    this.parent = crisp;\n  }\n\n  run(name: string) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"do\", \"trigger:run\", [name]]);\n  }\n}\n","import { CrispClass as Crisp } from \"./index\";\n\nexport enum EventsColors {\n  Red = \"red\",\n  Orange = \"orange\",\n  Yellow = \"yellow\",\n  Green = \"green\",\n  Blue = \"blue\",\n  Purple = \"purple\",\n  Pink = \"pink\",\n  Brown = \"brown\",\n  Grey = \"grey\",\n  Black = \"black\"\n}\n\nexport default class CrispSession {\n  private parent: Crisp;\n\n  constructor(crisp: Crisp) {\n    this.parent = crisp;\n  }\n\n  reset(reload = false) {\n    if (this.parent.isCrispInjected()) {\n      window.$crisp.do(\"session:reset\", [reload]);\n    }\n  }\n\n  setSegments(segments: string[], overwrite: boolean) {\n    this.parent.createSingletonIfNecessary();\n\n    $crisp.push([\"set\", \"session:segments\", [segments, overwrite]]);\n  }\n\n  setData(data: object) {\n    const _payload = [];\n\n    Object.entries(data).forEach(item => {\n      if (this.isValidDataValue(item[0])) {\n        _payload.push([item[0], item[1]]);\n      }\n    });\n\n    this.parent.createSingletonIfNecessary();\n\n    $crisp.push([\"set\", \"session:data\", [_payload]]);\n  }\n\n  pushEvent(name: string, data: object = {}, color: EventsColors = EventsColors.Blue) {\n    if (this.parent.isCrispInjected()) {\n      window.$crisp.push([\"set\", \"session:event\", [[[name, data, color]]]]);\n    }\n  }\n\n  getData(key: string): string | boolean | number | undefined {\n    if (!this.parent.isCrispInjected()) {\n      return undefined;\n    }\n\n    return window.$crisp.get(\"session:data\", key);\n  }\n\n  getIdentifier(): string | null {\n    if (!this.parent.isCrispInjected()) {\n      return null;\n    }\n\n    return window.$crisp.get(\"session:identifier\");\n  }\n\n\n  onLoaded(callback: Function) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"off\", \"session:loaded\"]);\n    window.$crisp.push([\"on\", \"session:loaded\", callback]);\n  }\n\n  private isValidDataValue(value: string): boolean {\n    return (\n      typeof value === \"string\" ||\n      typeof value === \"number\" ||\n      typeof value === \"boolean\"\n    );\n  }\n}\n","import { CrispClass as Crisp } from \"./index\";\n\nexport default class CrispChat {\n  private parent: Crisp;\n\n  constructor(crisp: Crisp) {\n    this.parent = crisp;\n  }\n\n  show() {\n    this.parent.autoInjectIfNecessasy();\n\n    window.$crisp.push([\"do\", \"chat:show\"]);\n  }\n\n  hide() {\n    this.parent.autoInjectIfNecessasy();\n\n    window.$crisp.push([\"do\", \"chat:hide\"]);\n  }\n\n  open() {\n    this.parent.autoInjectIfNecessasy();\n\n    window.$crisp.push([\"do\", \"chat:open\"]);\n  }\n\n  close() {\n    if (this.parent.isCrispInjected()) {\n      window.$crisp.push([\"do\", \"chat:close\"]);\n    }\n  }\n\n  unreadCount(): number {\n    if (!this.parent.isCrispInjected()) {\n      return 0;\n    }\n\n    return window.$crisp.get(\"chat:unread:count\");\n  }\n\n  isChatOpened(): boolean {\n    if (!this.parent.isCrispInjected()) {\n      return false;\n    }\n\n    return window.$crisp.is(\"chat:opened\");\n  }\n\n  isVisible(): boolean {\n    if (!this.parent.isCrispInjected()) {\n      return false;\n    }\n\n    return window.$crisp.is(\"chat:visible\");\n  }\n\n  onChatInitiated(callback: () => void) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"off\", \"chat:initiated\"]);\n    window.$crisp.push([\"on\", \"chat:initiated\", callback]);\n  }\n\n  onChatOpened(callback: () => void) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"off\", \"chat:opened\"]);\n    window.$crisp.push([\"on\", \"chat:opened\", callback]);\n  }\n\n  onChatClosed(callback: () => void) {\n    this.parent.createSingletonIfNecessary();\n\n    window.$crisp.push([\"off\", \"chat:closed\"]);\n    window.$crisp.push([\"on\", \"chat:closed\", callback]);\n  }\n}\n","import CrispMessage from \"./message\";\n\nexport {\n  AnimationMessage,\n  AudioMessage,\n  FileMessage,\n  PickerMessage,\n  PickerMessageChoices,\n  FieldMessage\n} from \"./message\";\n\nimport CrispUser from \"./user\";\n\nexport {\n  CompanyData,\n  CompanyDataEmployment,\n  CompanyDataGeolocation\n} from \"./user\";\n\nimport CrispTrigger from \"./trigger\";\n\nimport CrispSession from \"./session\";\n\nexport {\n  EventsColors,\n} from \"./session\";\n\nimport CrispChat from \"./chat\";\n\n/* eslint-disable no-var, @typescript-eslint/no-explicit-any */\ndeclare global {\n  var $crisp: any;\n  var CRISP_WEBSITE_ID: string;\n  var CRISP_TOKEN_ID: string;\n  var CRISP_RUNTIME_CONFIG: any;\n  var CRISP_COOKIE_DOMAIN: string;\n  var CRISP_COOKIE_EXPIRE: number\n}\n/* eslint-enable no-var, @typescript-eslint/no-explicit-any */\n\n\nexport type Options = {\n  clientUrl?: string\n  autoload?: boolean,\n  tokenId?: string\n  locale?: string\n  sessionMerge?: boolean\n  cookieDomain?: string\n  cookieExpire?: number\n  lockMaximized?: boolean\n  lockFullview?: boolean\n  safeMode?: boolean\n};\n\nexport enum ChatboxColors {\n  Default = \"default\",\n  Amber = \"amber\",\n  Black = \"black\",\n  Blue = \"blue\",\n  BlueGrey = \"blue_grey\",\n  LightBlue = \"light_blue\",\n  Brown = \"brown\",\n  Cyan = \"cyan\",\n  Green = \"green\",\n  LightGreen = \"light_green\",\n  Grey = \"grey\",\n  Indigo = \"indigo\",\n  Orange = \"orange\",\n  DeepOrange = \"deep_orange\",\n  Pink = \"pink\",\n  Purple = \"purple\",\n  DeepPurple = \"deep_purple\",\n  Red = \"red\",\n  Teal = \"teal\",\n}\n\nexport enum ChatboxPosition {\n  Left = \"left\",\n  Right = \"right\",\n}\n\nclass Crisp {\n  // Options\n  private clientUrl: string = \"https://client.crisp.chat/l.js\";\n  private websiteId: string = \"\";\n  private autoload: boolean = true;\n  private tokenId?: string;\n  private locale?: string;\n  private sessionMerge?: boolean;\n  private cookieDomain?: string;\n  private cookieExpire?: number;\n  private lockFullview?: boolean;\n  private lockMaximized?: boolean;\n  private safeMode?: boolean;\n\n  // States\n  private injected: boolean = false;\n\n  // Instances\n  chat: CrispChat;\n  session: CrispSession;\n  user: CrispUser;\n  message: CrispMessage;\n  trigger: CrispTrigger;\n\n  constructor() {\n    this.chat = new CrispChat(this);\n    this.session = new CrispSession(this);\n    this.user = new CrispUser(this);\n    this.message = new CrispMessage(this);\n    this.trigger = new CrispTrigger(this);\n  }\n\n  configure(websiteId: string, options: Options = {}) {\n    this.websiteId = websiteId;\n    this.tokenId = options.tokenId;\n    this.locale = options.locale;\n    this.sessionMerge = options.sessionMerge;\n    this.cookieDomain = options.cookieDomain;\n    this.lockFullview = options.lockFullview;\n    this.lockMaximized = options.lockMaximized;\n    this.safeMode = options.safeMode;\n\n    if (options.clientUrl !== undefined) {\n      this.clientUrl = options.clientUrl;\n    }\n\n    if (options.autoload !== undefined) {\n      this.autoload = options.autoload;\n    }\n\n    // Autoload Crisp if option is enabled\n    if (this.autoload) {\n      this.load();\n    }\n  }\n\n  load() {\n    const _head = document.getElementsByTagName(\"head\");\n\n    this.createSingletonIfNecessary();\n\n    // Prevents from loading Crisp twice\n    if (this.isCrispInjected() === true) {\n      return;\n    }\n\n    if (!this.websiteId) {\n      throw new Error(\"websiteId must be set before loading Crisp\");\n    }\n\n    window.CRISP_WEBSITE_ID = this.websiteId;\n    window.CRISP_RUNTIME_CONFIG = {};\n\n    if (this.tokenId) {\n      window.CRISP_TOKEN_ID = this.tokenId;\n    }\n\n    if (this.sessionMerge) {\n      window.CRISP_RUNTIME_CONFIG.session_merge = true;\n    }\n\n    if (this.locale) {\n      window.CRISP_RUNTIME_CONFIG.locale = this.locale;\n    }\n\n    if (this.lockFullview) {\n      window.CRISP_RUNTIME_CONFIG.lock_full_view = true;\n    }\n\n    if (this.lockMaximized) {\n      window.CRISP_RUNTIME_CONFIG.lock_maximized = true;\n    }\n\n    if (this.cookieDomain) {\n      window.CRISP_COOKIE_DOMAIN = this.cookieDomain;\n    }\n\n    if (this.cookieExpire) {\n      window.CRISP_COOKIE_EXPIRE = this.cookieExpire;\n    }\n\n    if (!_head || !_head[0]) {\n      return this.deferredLoading();\n    }\n\n    if (this.safeMode === true) {\n      this.setSafeMode(true);\n    }\n\n    const _script = document.createElement(\"script\");\n\n    _script.src = this.clientUrl;\n    _script.async = true;\n\n    _head[0].appendChild(_script);\n\n    this.injected = true;\n  }\n\n  setTokenId(tokenId: string) {\n    this.tokenId = tokenId;\n\n    // Refresh injected token?\n    if (this.isCrispInjected() === true) {\n      if (tokenId) {\n        window.CRISP_TOKEN_ID = tokenId;\n      } else {\n        delete window.CRISP_TOKEN_ID;\n      }\n    }\n  }\n\n  setZIndex(zIndex: number) {\n    this.createSingletonIfNecessary();\n\n    window.$crisp.push([\"config\", \"container:index\", [zIndex]]);\n  }\n\n  setColorTheme(color: ChatboxColors) {\n    this.createSingletonIfNecessary();\n\n    window.$crisp.push([\"config\", \"color:theme\", [color]]);\n  }\n\n  setHideOnAway(enabled: boolean) {\n    this.createSingletonIfNecessary();\n\n    window.$crisp.push([\"config\", \"hide:on:away\", [enabled]]);\n  }\n\n  setHideOnMobile(enabled: boolean) {\n    this.createSingletonIfNecessary();\n\n    window.$crisp.push([\"config\", \"hide:on:mobile\", [enabled]]);\n  }\n\n  setPosition(position: ChatboxPosition) {\n    this.createSingletonIfNecessary();\n\n    $crisp.push([\"config\", \"position:reverse\", [position === ChatboxPosition.Left]]);\n  }\n\n  setAvailabilityTooltip(enabled: boolean) {\n    this.createSingletonIfNecessary();\n\n    window.$crisp.push([\"config\", \"availability:tooltip\", [enabled]]);\n  }\n\n  setVacationMode(enabled: boolean) {\n    this.createSingletonIfNecessary();\n\n    window.$crisp.push([\"config\", \"hide:vacation\", [enabled]]);\n  }\n\n  setSafeMode(safe: boolean = true) {\n    this.createSingletonIfNecessary();\n\n    window.$crisp.push([\"safe\", safe]);\n  }\n\n  muteSound(mute: boolean) {\n    this.createSingletonIfNecessary();\n\n    window.$crisp.push([\"config\", \"sound:mute\", [mute]]);\n  }\n\n  toggleOperatorCount(enabled: boolean) {\n    this.createSingletonIfNecessary();\n\n    window.$crisp.push([\"config\", \"show:operator:count\", [enabled]]);\n  }\n\n  createSingletonIfNecessary() {\n    // Assigns $crisp singleton\n    if (window.$crisp === undefined) {\n      window.$crisp = [];\n    }\n  }\n\n  autoInjectIfNecessasy() {\n    if (!this.isCrispInjected()) {\n      this.load();\n    }\n  }\n\n  isCrispInjected(): boolean {\n    // Check if Crisp was injected (either from the Web SDK, or from another \\\n    //   source)\n    if (this.injected === true || (window.$crisp && window.$crisp.is)) {\n      return true;\n    }\n\n    return false;\n  }\n\n  private deferredLoading() {\n    document.addEventListener(\"DOMContentLoaded\", () => {\n      this.load();\n    });\n  }\n}\n\nconst singleton = new Crisp();\n\nexport {\n  singleton as Crisp,\n  Crisp as CrispClass\n};\n"],"names":[],"mappings":"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"}